$(function(){var e=$("#js-slider"),l=$("#js-slider_list"),s=l.children("li"),c=s.length,r=$("#js-slider_prev"),n=$("#js-slider_next"),t=$("#js-slider_ctrl"),i=e.width(),a=.5625*i,d=0;e.css("height",a),s.css({width:i,height:a}),s.eq(0).addClass("current"),s.each(function(){t.append("<li></li>")}),t.children("li:first-child").addClass("current"),t.children("li").each(function(){$(this).on("click",function(){var e=$(this).index(),r=$(".current"),n=(t.children("li").index(r)-e+1)*i;$.when(l.animate({left:n},200)).done(function(){var e=l.css("left"),r=parseInt(e)/parseInt(i)*-1;s.eq(r).addClass("current")}),t.children("li.current").removeClass("current"),l.children("li.current").removeClass("current"),$(this).addClass("current")})}),r.on("click",function(){var e=d+i;if(0==d){var r=-1*(c-1)*i,n=s.last().clone();s.removeClass("current"),t.children("li").removeClass("current"),$.when(n.prependTo(l),l.css("left",-i)).done(function(){l.animate({left:0},200,function(){l.css("left",r),n.remove(),d=r,l.children("li:last-child").addClass("current"),t.children("li:last-child").addClass("current")})})}else l.animate({left:e},200),d=e,l.children("li.current").removeClass("current").prev().addClass("current"),t.children("li.current").removeClass("current").prev().addClass("current")}),n.on("click",function(){var e=d-i;if(d==-1*i*(c-1)){var r=s.first().clone();s.removeClass("current"),t.children("li").removeClass("current"),r.appendTo(l),l.animate({left:e},200,function(){l.css("left","0"),r.remove(),d=0,s.eq(0).addClass("current"),t.children("li").eq(0).addClass("current")})}else l.animate({left:e},200),d=e,l.children("li.current").removeClass("current").next().addClass("current"),t.children("li.current").removeClass("current").next().addClass("current")})});